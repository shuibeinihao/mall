define(["jquery","vue"],function(t,n){"use strict";function e(n,e){n=t.extend({msg:"",onebutton:!1},n),p?p.find(".js-dialog-cancel").off().on(l,function(t){v(t),p.hide()}).end().find(".js-dialog-ok").off().on(l,function(t){v(t),e&&"function"==typeof e&&e(),p.hide()}).end():p=t(d).find(".js-dialog-cancel").off().on(l,function(t){v(t),p.hide()}).end().find(".js-dialog-ok").off().on(l,function(t){v(t),e&&"function"==typeof e&&e(),p.hide()}).end().appendTo("body"),n.msg&&(p.hide(),p.find(".js-msg").html(n.msg),n.onebutton?p.find(".js-dialog-cancel").hide():p.find(".js-dialog-cancel").show(),p.show())}function r(t){h||(h=y()),h.find(".js-msg").html(t),h.fadeIn(),setTimeout(function(){h.fadeOut()},2e3)}function i(t){m||(m=g()),t?m.fadeIn():m.hide()}function o(){t(".js-customer").click(function(){var n=t(".customer-pop").attr("data-url");t(".customer-pop iframe").attr("src",n),t(".js-spec-dialogBg,.customer-pop,.iframe-close").show()}),t(".js-spec-dialogBg,.iframe-close").click(function(){t(".js-spec-dialogBg,.customer-pop,.iframe-close").hide()})}function c(t){return t&&t.__esModule?t.default:t}function s(t,n){return n={exports:{}},t(n,n.exports),n.exports}t="default"in t?t.default:t,n="default"in n?n.default:n;var u="ontouchstart"in window,a=u?"touchstart":"click",f=window.location;t(function(){u&&t("a.js-a").on(a,function(t){t.preventDefault(),t.stopPropagation(),f.href=t.currentTarget.href})});var l=a,d='<div class="ui-dialog-wrapper ui-alert ui-row"><div class="ui-row-cell ui-row-cell-middle"><div class="ui-dialog"><div class="ui-dialog-msg js-msg"></div><div class="ui-dialog-btns js-btns"><span class="ui-dialog-button ui-touchable js-dialog-cancel">取消</span><span class="ui-dialog-button ui-touchable js-dialog-ok">确定</span></div></div></div></div>',p=void 0,v=function(t){t.preventDefault(),t.stopPropagation()},h=void 0,y=function(){return t('<div class="ui-dialog-wrapper ui-alert ui-row"><div class="ui-row-cell ui-row-cell-middle"><span class="loadingtip-msg js-msg"></span></div></div>').appendTo("body")},m=void 0,g=function(){return t('<div class="ui-dialog-wrapper ui-alert ui-row"><div class="ui-row-cell ui-row-cell-middle"><span class="loadingtip-msg js-msg" style="padding:1rem;border-radius: 5px;"><div class="spinner"><div class="spinner-container container1"><div class="circle1"></div><div class="circle2"></div><div class="circle3"></div><div class="circle4"></div></div><div class="spinner-container container2"><div class="circle1"></div><div class="circle2"></div><div class="circle3"></div><div class="circle4"></div></div><div class="spinner-container container3"><div class="circle1"></div><div class="circle2"></div><div class="circle3"></div><div class="circle4"></div></div></div></span></div></div>').appendTo("body")},_=s(function(t){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)}),w=_.JSON||(_.JSON={stringify:JSON.stringify}),j=function(t){return w.stringify.apply(w,arguments)},b=s(function(t){t.exports={default:j,__esModule:!0}}),O=c(b),P=Math.ceil,S=Math.floor,T=function(t){return isNaN(t=+t)?0:(t>0?S:P)(t)},x=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t},E=s(function(t){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)}),I=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},M=function(t,n,e){if(I(t),void 0===n)return t;switch(e){case 1:return function(e){return t.call(n,e)};case 2:return function(e,r){return t.call(n,e,r)};case 3:return function(e,r,i){return t.call(n,e,r,i)}}return function(){return t.apply(n,arguments)}},k=function(t){return"object"==typeof t?null!==t:"function"==typeof t},A=function(t){if(!k(t))throw TypeError(t+" is not an object!");return t},C=function(t){try{return!!t()}catch(t){return!0}},F=!C(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),N=E.document,R=k(N)&&k(N.createElement),L=function(t){return R?N.createElement(t):{}},B=!F&&!C(function(){return 7!=Object.defineProperty(L("div"),"a",{get:function(){return 7}}).a}),D=function(t,n){if(!k(t))return t;var e,r;if(n&&"function"==typeof(e=t.toString)&&!k(r=e.call(t)))return r;if("function"==typeof(e=t.valueOf)&&!k(r=e.call(t)))return r;if(!n&&"function"==typeof(e=t.toString)&&!k(r=e.call(t)))return r;throw TypeError("Can't convert object to primitive value")},J=Object.defineProperty,W=F?Object.defineProperty:function(t,n,e){if(A(t),n=D(n,!0),A(e),B)try{return J(t,n,e)}catch(t){}if("get"in e||"set"in e)throw TypeError("Accessors not supported!");return"value"in e&&(t[n]=e.value),t},G={f:W},U=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}},K=F?function(t,n,e){return G.f(t,n,U(1,e))}:function(t,n,e){return t[n]=e,t},q=function(t,n,e){var r,i,o,c=t&q.F,s=t&q.G,u=t&q.S,a=t&q.P,f=t&q.B,l=t&q.W,d=s?_:_[n]||(_[n]={}),p=d.prototype,v=s?E:u?E[n]:(E[n]||{}).prototype;s&&(e=n);for(r in e)(i=!c&&v&&void 0!==v[r])&&r in d||(o=i?v[r]:e[r],d[r]=s&&"function"!=typeof v[r]?e[r]:f&&i?M(o,E):l&&v[r]==o?function(t){var n=function(n,e,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,e)}return new t(n,e,r)}return t.apply(this,arguments)};return n.prototype=t.prototype,n}(o):a&&"function"==typeof o?M(Function.call,o):o,a&&((d.virtual||(d.virtual={}))[r]=o,t&q.R&&p&&!p[r]&&K(p,r,o)))};q.F=1,q.G=2,q.S=4,q.P=8,q.B=16,q.W=32,q.U=64,q.R=128;var z=q,H=K,Q={}.hasOwnProperty,V=function(t,n){return Q.call(t,n)},X={},Y={}.toString,Z=function(t){return Y.call(t).slice(8,-1)},$=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==Z(t)?t.split(""):Object(t)},tt=function(t){return $(x(t))},nt=Math.min,et=function(t){return t>0?nt(T(t),9007199254740991):0},rt=Math.max,it=Math.min,ot=function(t,n){return t=T(t),t<0?rt(t+n,0):it(t,n)},ct=E["__core-js_shared__"]||(E["__core-js_shared__"]={}),st=function(t){return ct[t]||(ct[t]={})},ut=0,at=Math.random(),ft=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++ut+at).toString(36))},lt=st("keys"),dt=function(t){return lt[t]||(lt[t]=ft(t))},pt=function(t){return function(n,e,r){var i,o=tt(n),c=et(o.length),s=ot(r,c);if(t&&e!=e){for(;c>s;)if((i=o[s++])!=i)return!0}else for(;c>s;s++)if((t||s in o)&&o[s]===e)return t||s||0;return!t&&-1}}(!1),vt=dt("IE_PROTO"),ht=function(t,n){var e,r=tt(t),i=0,o=[];for(e in r)e!=vt&&V(r,e)&&o.push(e);for(;n.length>i;)V(r,e=n[i++])&&(~pt(o,e)||o.push(e));return o},yt="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),mt=Object.keys||function(t){return ht(t,yt)},gt=F?Object.defineProperties:function(t,n){A(t);for(var e,r=mt(n),i=r.length,o=0;i>o;)G.f(t,e=r[o++],n[e]);return t},_t=E.document&&document.documentElement,wt=dt("IE_PROTO"),jt=function(){},bt=function(){var t,n=L("iframe"),e=yt.length;for(n.style.display="none",_t.appendChild(n),n.src="javascript:",t=n.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),bt=t.F;e--;)delete bt.prototype[yt[e]];return bt()},Ot=Object.create||function(t,n){var e;return null!==t?(jt.prototype=A(t),e=new jt,jt.prototype=null,e[wt]=t):e=bt(),void 0===n?e:gt(e,n)},Pt=s(function(t){var n=st("wks"),e=E.Symbol,r="function"==typeof e;(t.exports=function(t){return n[t]||(n[t]=r&&e[t]||(r?e:ft)("Symbol."+t))}).store=n}),St=G.f,Tt=Pt("toStringTag"),xt=function(t,n,e){t&&!V(t=e?t:t.prototype,Tt)&&St(t,Tt,{configurable:!0,value:n})},Et={};K(Et,Pt("iterator"),function(){return this});var It=function(t,n,e){t.prototype=Ot(Et,{next:U(1,e)}),xt(t,n+" Iterator")},Mt=function(t){return Object(x(t))},kt=dt("IE_PROTO"),At=Object.prototype,Ct=Object.getPrototypeOf||function(t){return t=Mt(t),V(t,kt)?t[kt]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?At:null},Ft=Pt("iterator"),Nt=!([].keys&&"next"in[].keys()),Rt=function(){return this},Lt=function(t,n,e,r,i,o,c){It(e,n,r);var s,u,a,f=function(t){if(!Nt&&t in v)return v[t];switch(t){case"keys":case"values":return function(){return new e(this,t)}}return function(){return new e(this,t)}},l=n+" Iterator",d="values"==i,p=!1,v=t.prototype,h=v[Ft]||v["@@iterator"]||i&&v[i],y=h||f(i),m=i?d?f("entries"):y:void 0,g="Array"==n?v.entries||h:h;if(g&&(a=Ct(g.call(new t)))!==Object.prototype&&xt(a,l,!0),d&&h&&"values"!==h.name&&(p=!0,y=function(){return h.call(this)}),c&&(Nt||p||!v[Ft])&&K(v,Ft,y),X[n]=y,X[l]=Rt,i)if(s={values:d?y:f("values"),keys:o?y:f("keys"),entries:m},c)for(u in s)u in v||H(v,u,s[u]);else z(z.P+z.F*(Nt||p),n,s);return s},Bt=function(t){return function(n,e){var r,i,o=String(x(n)),c=T(e),s=o.length;return c<0||c>=s?t?"":void 0:(r=o.charCodeAt(c),r<55296||r>56319||c+1===s||(i=o.charCodeAt(c+1))<56320||i>57343?t?o.charAt(c):r:t?o.slice(c,c+2):i-56320+(r-55296<<10)+65536)}}(!0);Lt(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,n=this._t,e=this._i;return e>=n.length?{value:void 0,done:!0}:(t=Bt(n,e),this._i+=t.length,{value:t,done:!1})});var Dt=function(t,n){return{value:n,done:!!t}};Lt(Array,"Array",function(t,n){this._t=tt(t),this._i=0,this._k=n},function(){var t=this._t,n=this._k,e=this._i++;return!t||e>=t.length?(this._t=void 0,Dt(1)):"keys"==n?Dt(0,e):"values"==n?Dt(0,t[e]):Dt(0,[e,t[e]])},"values");X.Arguments=X.Array;for(var Jt=Pt("toStringTag"),Wt=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],Gt=0;Gt<5;Gt++){var Ut=Wt[Gt],Kt=E[Ut],qt=Kt&&Kt.prototype;qt&&!qt[Jt]&&K(qt,Jt,Ut),X[Ut]=X.Array}var zt,Ht,Qt,Vt=Pt("toStringTag"),Xt="Arguments"==Z(function(){return arguments}()),Yt=function(t,n){try{return t[n]}catch(t){}},Zt=function(t){var n,e,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=Yt(n=Object(t),Vt))?e:Xt?Z(n):"Object"==(r=Z(n))&&"function"==typeof n.callee?"Arguments":r},$t=function(t,n,e,r){if(!(t instanceof n)||void 0!==r&&r in t)throw TypeError(e+": incorrect invocation!");return t},tn=function(t,n,e,r){try{return r?n(A(e)[0],e[1]):n(e)}catch(n){var i=t.return;throw void 0!==i&&A(i.call(t)),n}},nn=Pt("iterator"),en=Array.prototype,rn=function(t){return void 0!==t&&(X.Array===t||en[nn]===t)},on=Pt("iterator"),cn=_.getIteratorMethod=function(t){if(void 0!=t)return t[on]||t["@@iterator"]||X[Zt(t)]},sn=s(function(t){var n={},e={},r=t.exports=function(t,r,i,o,c){var s,u,a,f,l=c?function(){return t}:cn(t),d=M(i,o,r?2:1),p=0;if("function"!=typeof l)throw TypeError(t+" is not iterable!");if(rn(l)){for(s=et(t.length);s>p;p++)if((f=r?d(A(u=t[p])[0],u[1]):d(t[p]))===n||f===e)return f}else for(a=l.call(t);!(u=a.next()).done;)if((f=tn(a,d,u.value,r))===n||f===e)return f};r.BREAK=n,r.RETURN=e}),un=Pt("species"),an=function(t,n){var e,r=A(t).constructor;return void 0===r||void 0==(e=A(r)[un])?n:I(e)},fn=function(t,n,e){var r=void 0===e;switch(n.length){case 0:return r?t():t.call(e);case 1:return r?t(n[0]):t.call(e,n[0]);case 2:return r?t(n[0],n[1]):t.call(e,n[0],n[1]);case 3:return r?t(n[0],n[1],n[2]):t.call(e,n[0],n[1],n[2]);case 4:return r?t(n[0],n[1],n[2],n[3]):t.call(e,n[0],n[1],n[2],n[3])}return t.apply(e,n)},ln=E.process,dn=E.setImmediate,pn=E.clearImmediate,vn=E.MessageChannel,hn=0,yn={},mn=function(){var t=+this;if(yn.hasOwnProperty(t)){var n=yn[t];delete yn[t],n()}},gn=function(t){mn.call(t.data)};dn&&pn||(dn=function(t){for(var n=[],e=1;arguments.length>e;)n.push(arguments[e++]);return yn[++hn]=function(){fn("function"==typeof t?t:Function(t),n)},zt(hn),hn},pn=function(t){delete yn[t]},"process"==Z(ln)?zt=function(t){ln.nextTick(M(mn,t,1))}:vn?(Ht=new vn,Qt=Ht.port2,Ht.port1.onmessage=gn,zt=M(Qt.postMessage,Qt,1)):E.addEventListener&&"function"==typeof postMessage&&!E.importScripts?(zt=function(t){E.postMessage(t+"","*")},E.addEventListener("message",gn,!1)):zt="onreadystatechange"in L("script")?function(t){_t.appendChild(L("script")).onreadystatechange=function(){_t.removeChild(this),mn.call(t)}}:function(t){setTimeout(M(mn,t,1),0)});var _n={set:dn,clear:pn},wn=_n.set,jn=E.MutationObserver||E.WebKitMutationObserver,bn=E.process,On=E.Promise,Pn="process"==Z(bn),Sn=Pt("species"),Tn=Pt("iterator"),xn=!1;try{var En=[7][Tn]();En.return=function(){xn=!0},Array.from(En,function(){throw 2})}catch(t){}var In,Mn,kn,An=_n.set,Cn=function(){var t,n,e,r=function(){var r,i;for(Pn&&(r=bn.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?e():n=void 0,r}}n=void 0,r&&r.enter()};if(Pn)e=function(){bn.nextTick(r)};else if(jn){var i=!0,o=document.createTextNode("");new jn(r).observe(o,{characterData:!0}),e=function(){o.data=i=!i}}else if(On&&On.resolve){var c=On.resolve();e=function(){c.then(r)}}else e=function(){wn.call(E,r)};return function(r){var i={fn:r,next:void 0};n&&(n.next=i),t||(t=i,e()),n=i}}(),Fn=E.TypeError,Nn=E.process,Rn=E.Promise,Nn=E.process,Ln="process"==Zt(Nn),Bn=function(){},Dn=!!function(){try{var t=Rn.resolve(1),n=(t.constructor={})[Pt("species")]=function(t){t(Bn,Bn)};return(Ln||"function"==typeof PromiseRejectionEvent)&&t.then(Bn)instanceof n}catch(t){}}(),Jn=function(t,n){return t===n||t===Rn&&n===kn},Wn=function(t){var n;return!(!k(t)||"function"!=typeof(n=t.then))&&n},Gn=function(t){return Jn(Rn,t)?new Un(t):new Mn(t)},Un=Mn=function(t){var n,e;this.promise=new t(function(t,r){if(void 0!==n||void 0!==e)throw Fn("Bad Promise constructor");n=t,e=r}),this.resolve=I(n),this.reject=I(e)},Kn=function(t){try{t()}catch(t){return{error:t}}},qn=function(t,n){if(!t._n){t._n=!0;var e=t._c;Cn(function(){for(var r=t._v,i=1==t._s,o=0;e.length>o;)!function(n){var e,o,c=i?n.ok:n.fail,s=n.resolve,u=n.reject,a=n.domain;try{c?(i||(2==t._h&&Qn(t),t._h=1),!0===c?e=r:(a&&a.enter(),e=c(r),a&&a.exit()),e===n.promise?u(Fn("Promise-chain cycle")):(o=Wn(e))?o.call(e,s,u):s(e)):u(r)}catch(t){u(t)}}(e[o++]);t._c=[],t._n=!1,n&&!t._h&&zn(t)})}},zn=function(t){An.call(E,function(){var n,e,r,i=t._v;if(Hn(t)&&(n=Kn(function(){Ln?Nn.emit("unhandledRejection",i,t):(e=E.onunhandledrejection)?e({promise:t,reason:i}):(r=E.console)&&r.error&&r.error("Unhandled promise rejection",i)}),t._h=Ln||Hn(t)?2:1),t._a=void 0,n)throw n.error})},Hn=function(t){if(1==t._h)return!1;for(var n,e=t._a||t._c,r=0;e.length>r;)if(n=e[r++],n.fail||!Hn(n.promise))return!1;return!0},Qn=function(t){An.call(E,function(){var n;Ln?Nn.emit("rejectionHandled",t):(n=E.onrejectionhandled)&&n({promise:t,reason:t._v})})},Vn=function(t){var n=this;n._d||(n._d=!0,n=n._w||n,n._v=t,n._s=2,n._a||(n._a=n._c.slice()),qn(n,!0))},Xn=function(t){var n,e=this;if(!e._d){e._d=!0,e=e._w||e;try{if(e===t)throw Fn("Promise can't be resolved itself");(n=Wn(t))?Cn(function(){var r={_w:e,_d:!1};try{n.call(t,M(Xn,r,1),M(Vn,r,1))}catch(t){Vn.call(r,t)}}):(e._v=t,e._s=1,qn(e,!1))}catch(t){Vn.call({_w:e,_d:!1},t)}}};Dn||(Rn=function(t){$t(this,Rn,"Promise","_h"),I(t),In.call(this);try{t(M(Xn,this,1),M(Vn,this,1))}catch(t){Vn.call(this,t)}},In=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},In.prototype=function(t,n,e){for(var r in n)e&&t[r]?t[r]=n[r]:K(t,r,n[r]);return t}(Rn.prototype,{then:function(t,n){var e=Gn(an(this,Rn));return e.ok="function"!=typeof t||t,e.fail="function"==typeof n&&n,e.domain=Ln?Nn.domain:void 0,this._c.push(e),this._a&&this._a.push(e),this._s&&qn(this,!1),e.promise},catch:function(t){return this.then(void 0,t)}}),Un=function(){var t=new In;this.promise=t,this.resolve=M(Xn,t,1),this.reject=M(Vn,t,1)}),z(z.G+z.W+z.F*!Dn,{Promise:Rn}),xt(Rn,"Promise"),function(t){var n="function"==typeof _[t]?_[t]:E[t];F&&n&&!n[Sn]&&G.f(n,Sn,{configurable:!0,get:function(){return this}})}("Promise"),kn=_.Promise,z(z.S+z.F*!Dn,"Promise",{reject:function(t){var n=Gn(this);return(0,n.reject)(t),n.promise}}),z(z.S+!0*z.F,"Promise",{resolve:function(t){if(t instanceof Rn&&Jn(t.constructor,this))return t;var n=Gn(this);return(0,n.resolve)(t),n.promise}}),z(z.S+z.F*!(Dn&&function(t,n){if(!n&&!xn)return!1;var e=!1;try{var r=[7],i=r[Tn]();i.next=function(){return{done:e=!0}},r[Tn]=function(){return i},t(r)}catch(t){}return e}(function(t){Rn.all(t).catch(Bn)})),"Promise",{all:function(t){var n=this,e=Gn(n),r=e.resolve,i=e.reject,o=Kn(function(){var e=[],o=0,c=1;sn(t,!1,function(t){var s=o++,u=!1;e.push(void 0),c++,n.resolve(t).then(function(t){u||(u=!0,e[s]=t,--c||r(e))},i)}),--c||r(e)});return o&&i(o.error),e.promise},race:function(t){var n=this,e=Gn(n),r=e.reject,i=Kn(function(){sn(t,!1,function(t){n.resolve(t).then(e.resolve,r)})});return i&&r(i.error),e.promise}});var Yn=_.Promise,Zn=s(function(t){t.exports={default:Yn,__esModule:!0}}),$n=c(Zn),te=function(n,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments[4];return new $n(function(c,s){t.ajax({method:r,url:n,headers:o,async:i,contentType:"application/json",dataType:"json",data:O(e),success:c,error:function(t){try{s(JSON.parse(t.responseText))}catch(n){s({error:!0,message:"解析JSON出错: "+t.responseText})}}})})};new n({el:"#afterSaleDetails",data:{subOrderId:"",orderId:"",type:""},created:function(){for(var t=window.location.search.substr(1).split("&&"),n=0;n<t.length;n++)"subOrderId"===t[n].split("=")[0]?this.subOrderId=t[n].split("=")[1]:"orderId"===t[n].split("=")[0]&&(this.orderId=t[n].split("=")[1]);o()},methods:{CancelApplication:function(){var n=this;e({msg:"撤销申请后，您可再次对商品发<br>起退换申请，是否确定撤销?"},function(){n.type=t(".js-cancel").attr("data-type"),i(!0);var e={orderId:n.orderId,subOrderId:n.subOrderId,type:n.type,status:"CANCEL"};te("/api/trade/mall/after-sale-order",e,"POST").then(function(t){t.success?(i(!1),r("撤销成功"),location.href="/gp/order/"+n.orderId):(i(!1),r(t.retMsg))}).catch(function(){i(!1),r("网络错误，请稍后重试！")})})}}})});
