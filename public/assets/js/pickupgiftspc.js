define(["jquery"],function(t){"use strict";function n(t){return t&&t.__esModule?t.default:t}function r(t,n){return n={exports:{}},t(n,n.exports),n.exports}function e(n){var r=t("#"+n);if(!r.val().trim())return r.addClass("error"),r.one("focus",function(){r.removeClass("error")}),!0}function o(n){t(".js-dialog").removeClass("hidden").find(".js-dialog-msg").html(n)}t="default"in t?t.default:t;var i=r(function(t){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)}),u=i.JSON||(i.JSON={stringify:JSON.stringify}),c=function(t){return u.stringify.apply(u,arguments)},a=r(function(t){t.exports={default:c,__esModule:!0}}),f=n(a),s=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t},l=function(t){return Object(s(t))},p={}.hasOwnProperty,d=function(t,n){return p.call(t,n)},h={}.toString,v=function(t){return h.call(t).slice(8,-1)},y=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==v(t)?t.split(""):Object(t)},g=function(t){return y(s(t))},m=Math.ceil,j=Math.floor,w=function(t){return isNaN(t=+t)?0:(t>0?j:m)(t)},b=Math.min,_=function(t){return t>0?b(w(t),9007199254740991):0},O=Math.max,E=Math.min,S=function(t,n){return t=w(t),t<0?O(t+n,0):E(t,n)},M=r(function(t){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)}),P=M["__core-js_shared__"]||(M["__core-js_shared__"]={}),k=0,T=Math.random(),x=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++k+T).toString(36))},C=function(t){return P[t]||(P[t]={})}("keys"),F=function(t){return function(n,r,e){var o,i=g(n),u=_(i.length),c=S(e,u);if(t&&r!=r){for(;u>c;)if((o=i[c++])!=o)return!0}else for(;u>c;c++)if((t||c in i)&&i[c]===r)return t||c||0;return!t&&-1}}(!1),N=function(t){return C[t]||(C[t]=x(t))}("IE_PROTO"),R=function(t,n){var r,e=g(t),o=0,i=[];for(r in e)r!=N&&d(e,r)&&i.push(r);for(;n.length>o;)d(e,r=n[o++])&&(~F(i,r)||i.push(r));return i},z="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),A=Object.keys||function(t){return R(t,z)},D=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},I=function(t,n,r){if(D(t),void 0===n)return t;switch(r){case 1:return function(r){return t.call(n,r)};case 2:return function(r,e){return t.call(n,r,e)};case 3:return function(r,e,o){return t.call(n,r,e,o)}}return function(){return t.apply(n,arguments)}},J=function(t){return"object"==typeof t?null!==t:"function"==typeof t},B=function(t){if(!J(t))throw TypeError(t+" is not an object!");return t},G=function(t){try{return!!t()}catch(t){return!0}},W=!G(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),q=M.document,L=J(q)&&J(q.createElement),U=function(t){return L?q.createElement(t):{}},H=!W&&!G(function(){return 7!=Object.defineProperty(U("div"),"a",{get:function(){return 7}}).a}),K=function(t,n){if(!J(t))return t;var r,e;if(n&&"function"==typeof(r=t.toString)&&!J(e=r.call(t)))return e;if("function"==typeof(r=t.valueOf)&&!J(e=r.call(t)))return e;if(!n&&"function"==typeof(r=t.toString)&&!J(e=r.call(t)))return e;throw TypeError("Can't convert object to primitive value")},Q=Object.defineProperty,V=W?Object.defineProperty:function(t,n,r){if(B(t),n=K(n,!0),B(r),H)try{return Q(t,n,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[n]=r.value),t},X={f:V},Y=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}},Z=W?function(t,n,r){return X.f(t,n,Y(1,r))}:function(t,n,r){return t[n]=r,t},$=function(t,n,r){var e,o,u,c=t&$.F,a=t&$.G,f=t&$.S,s=t&$.P,l=t&$.B,p=t&$.W,d=a?i:i[n]||(i[n]={}),h=d.prototype,v=a?M:f?M[n]:(M[n]||{}).prototype;a&&(r=n);for(e in r)(o=!c&&v&&void 0!==v[e])&&e in d||(u=o?v[e]:r[e],d[e]=a&&"function"!=typeof v[e]?r[e]:l&&o?I(u,M):p&&v[e]==u?function(t){var n=function(n,r,e){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,r)}return new t(n,r,e)}return t.apply(this,arguments)};return n.prototype=t.prototype,n}(u):s&&"function"==typeof u?I(Function.call,u):u,s&&((d.virtual||(d.virtual={}))[e]=u,t&$.R&&h&&!h[e]&&Z(h,e,u)))};$.F=1,$.G=2,$.S=4,$.P=8,$.B=16,$.W=32,$.U=64,$.R=128;var tt=$;!function(t,n){var r=(i.Object||{})[t]||Object[t],e={};e[t]=n(r),tt(tt.S+tt.F*G(function(){r(1)}),"Object",e)}("keys",function(){return function(t){return A(l(t))}});var nt=i.Object.keys,rt=r(function(t){t.exports={default:nt,__esModule:!0}}),et=n(rt),ot="ontouchstart"in window,it=ot?"touchstart":"click",ut=window.location;t(function(){ot&&t("a.js-a").on(it,function(t){t.preventDefault(),t.stopPropagation(),ut.href=t.currentTarget.href})});var ct=it,at=t(".js-province"),ft=t(".js-city"),st=t(".js-district"),lt=window.AREA,pt=function(){var t=at.val(),n=lt[t],r=et(n),e=n[r[0]];dt(r),ht(e)},dt=function(t){ft.html(t.map(function(t){return"<option>"+t+"</option>"}))},ht=function(t){st.html(t.map(function(t){return"<option>"+t+"</option>"}))};ft.change(function(){var t=at.val(),n=ft.val();ht(lt[t][n])}),at.change(pt),pt(),t("#phoneEl").keypress(function(t){var n=t.which||t.keyCode;n>=48&&n<=57||8==n||9==n||10==n||13==n||!(n<37||n>40)||t.preventDefault()}),t(".js-form").submit(function(n){n.preventDefault(),["nameEl","phoneEl","addressEl"].some(e)||t.ajax({method:"POST",url:"/api/trade/gift/submit-gift",dataType:"json",headers:{"Content-Type":"application/json"},data:f({address:""+at.val()+ft.val()+st.val()+t("#addressEl").val().trim(),phone:t("#phoneEl").val().trim(),name:t("#nameEl").val().trim(),organization:n.target.organization.value,id:n.target.id.value,sign:n.target.sign.value}),success:function(t){t.success?location.href="/pickupgifts/ok":t.retCode<0?location.href="/pickupgifts/fail":o(t.retMsg)},error:function(){return o("网络错误，请稍后重试！")}})}),t(".js-dialog-ok").on(ct,function(){t(".js-dialog").addClass("hidden")})});
