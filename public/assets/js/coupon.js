define(["jquery","vue"],function(t,o){"use strict";t="default"in t?t.default:t,o="default"in o?o.default:o;var e=function(t){t.preventDefault(),t.stopPropagation()};new o({el:"#coupon",data:{couponId:"",productSpecification:"",couponInfo:"",buyRoute:"",addressId:""},created:function(){for(var o=this,e=window.location.search.substr(1).split("&&"),n=0;n<e.length;n++)"p"===e[n].split("=")[0]?this.productSpecification=e[n].split("=")[1]:"couponId"===e[n].split("=")[0]?this.couponId=e[n].split("=")[1]:"buyRoute"===e[n].split("=")[0]?this.buyRoute=e[n].split("=")[1]:"addressId"===e[n].split("=")[0]&&(this.addressId=e[n].split("=")[1]);t(".coupon_default").each(function(e,n){t(n).attr("data-id")===o.couponId&&t(n).addClass("coupon_checked")})},methods:{getCoupon:function(o){e(o),t(o.target).toggleClass("coupon_checked").parent().parent().parent().siblings().find(".coupon_default").removeClass("coupon_checked")},couponOkBtn:function(){var o=this.productSpecification,e=this.buyRoute,n=this.addressId;t(".coupon_default").length>0?t(".coupon_default").each(function(){var a=t(this),d="";if(a.hasClass("coupon_checked")){return d="couponId="+a.attr("data-id")+"&sign="+a.attr("data-sign").toString()+"&money="+a.attr("data-money")+"&name="+a.attr("data-name")+"&productId="+a.attr("data-productId"),location.href="/gp/order?p="+o+"&&buyRoute="+e+"&&addressId="+n+"&&"+d,!1}d="couponId=null&sign=null&money=0.00&name=不使用优惠券&productId=null",location.href="/gp/order?p="+o+"&&buyRoute="+e+"&&addressId="+n+"&&"+d}):location.href="/gp/order?p="+o+"&&buyRoute="+e+"&&addressId="+n},couponTab:function(o){e(o),t(o.target).addClass("act").siblings().removeClass("act");var n=t(".tab-info").index(o.target);t(".coupon-con-list").eq(n).fadeIn().siblings().hide()}}})});
